<div class="contenedorPrincipal">
    <div class="contenedorSecundario">
        <p-table
        class="tabla-pequena"
        [scrollable]="true"
          scrollHeight="300px"
          [value]="usuarios"
          [tableStyle]="{'min-width': '60rem'}">
            <ng-template pTemplate="caption">
                <div class="flex align-items-center justify-content-between">
                    Usuarios
                    <p-button *ngIf="userRole === 'ADMIN'" icon="pi pi-plus" (onClick)="openModal()" />
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Email</th>
                    <th *ngIf="userRole === 'ADMIN'" >Fecha Alta</th>
                    <th *ngIf="userRole === 'ADMIN'" >Ultima Fecha</th>
                    <th>Rol</th>
                    <th *ngIf="userRole === 'ADMIN'" >Acciones</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-usuario>
                <tr>
                    <td>{{usuario.id}}</td>
                    <td>{{usuario.name}}</td>
                    <td>{{usuario.lastname}}</td>
                    <td>{{usuario.email}}</td>
                    <td *ngIf="userRole === 'ADMIN'">{{usuario.creationDate | date:'yyyy-MM-dd HH:mm' }}</td>
                    <td *ngIf="userRole === 'ADMIN'">{{ usuario.lastDate ? (usuario.lastDate | date:'yyyy-MM-dd HH:mm') : 'N/A' }}</td>
                    <td>{{usuario.role}}</td>
                    <td *ngIf="userRole === 'ADMIN'">
                        <p-button  class="button-padding" title='Ver Usuario' icon="pi pi-eye" (onClick)="abrirModalVerDetalle(usuario)" [rounded]="true" [text]="true" [raised]="true" />
                        <p-button  class="button-padding" title='Editar Usuario' icon="pi pi-user-edit" (onClick)="abrirModalEditarUsuario(usuario)" severity="secondary" [rounded]="true" [text]="true" [raised]="true" />
                        <p-button  class="button-padding" title='Eliminar Usuario' icon="pi pi-trash" (onClick)="EliminarUsuarioDialog(usuario)" severity="danger" [rounded]="true" [text]="true" [raised]="true" />
                    </td>
                    
            </ng-template>
            <ng-template pTemplate="summary">
                <div class="flex align-items-center justify-content-between">
                    Total {{ usuarios ? usuarios.length : 0 }} usuarios.
                </div>
            </ng-template>
        </p-table>
    </div>
</div>